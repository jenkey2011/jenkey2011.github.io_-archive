<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>typescript 基本数据类型</title>
      <link href="/2019/05/20/learn-ts-note1/"/>
      <url>/2019/05/20/learn-ts-note1/</url>
      
        <content type="html"><![CDATA[<h3 id="布尔值"><a href="#布尔值" class="headerlink" title="布尔值"></a>布尔值</h3><p>最基础的数据类型</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> isDone: boolean = <span class="literal">false</span>;</span><br></pre></td></tr></table></figure><h3 id="数值"><a href="#数值" class="headerlink" title="数值"></a>数值</h3><p>支持十进制、十六进制，也支持ES6引入的二进制、八进制</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不同进制表示20的写法</span></span><br><span class="line"><span class="keyword">let</span> decLiteral: number = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">let</span> hexLiteral: number = <span class="number">0x14</span>;</span><br><span class="line"><span class="keyword">let</span> binaryLiteral: number = <span class="number">0b10100</span>;</span><br><span class="line"><span class="keyword">let</span> octalLiteral: number = <span class="number">0o24</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// NaN 、 infinity，也属于number类型</span></span><br><span class="line"><span class="keyword">let</span> notANumber: number = <span class="literal">NaN</span>;</span><br><span class="line"><span class="keyword">let</span> infinityNumber: number = <span class="literal">Infinity</span>;</span><br></pre></td></tr></table></figure><h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><p>字符串，引号、反引号，都可</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name: string = <span class="string">'Jenkey2011'</span>;</span><br><span class="line"><span class="keyword">let</span> greet: string = <span class="string">`Hello <span class="subst">$&#123;name&#125;</span>`</span>;</span><br></pre></td></tr></table></figure><h3 id="空值"><a href="#空值" class="headerlink" title="空值"></a>空值</h3><p>js中没有空值的概念，在typescript中，可以用<code>void</code>表示没有任何返回值的函数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">greeter</span>(<span class="params"></span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">    alert(<span class="string">'Hello Jenkey2011!'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>也可以声明一个<code>void</code>类型的变量，虽然实际上并没啥用</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> useless: <span class="keyword">void</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">let</span> uselessToo: <span class="keyword">void</span> = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure><h3 id="null-和-undefined"><a href="#null-和-undefined" class="headerlink" title="null 和 undefined"></a>null 和 undefined</h3><p>typescript中，可以使用<code>null</code> <code>undefined</code>来定义这两种原始数据类型</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> uType: <span class="literal">undefined</span> = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">let</span> nType: <span class="literal">null</span> = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure><p>和上述<code>void</code>类型的区别是，<code>null</code>和<code>undefined</code>是左右类型的子类型，就是说，<code>undefined</code>可以赋值给<code>string</code>类型，而<code>void</code>不行</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不会报错</span></span><br><span class="line"><span class="keyword">let</span> num: number = <span class="literal">undefined</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 报错</span></span><br><span class="line"><span class="keyword">let</span> u: <span class="keyword">void</span>;</span><br><span class="line"><span class="keyword">let</span> num: number = u;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> typescript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>接下来的计划</title>
      <link href="/2018/04/03/plan/"/>
      <url>/2018/04/03/plan/</url>
      
        <content type="html"><![CDATA[<p>转眼就到了 4 月，接下来的时间，业务应该不多，有足够的时间学习了~</p><p>定个计划</p><ul><li><p>[ ] 阅读 vue 源码并分享</p></li><li><p>[x] 每月至少一篇技术博文</p></li></ul><a id="more"></a>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>H5-微信跳一跳效果</title>
      <link href="/2018/03/14/wechat-jump/"/>
      <url>/2018/03/14/wechat-jump/</url>
      
        <content type="html"><![CDATA[<p>最近有个策划是模仿微信跳一跳,麻雀虽小五脏俱全，其实细节还是很多的。先看看 demo 吧，后期上线后直接贴代码</p><p>按住蓄力，松开弹跳，还有对应音乐哦~</p><video id="video2" webkit-playsinline="true" playsinline="true" x-webkit-airplay="allow" x5-video-player-type="h5" x5-video-player-fullscreen="false" x5-video-orientation="portrait" class="hideVisibility" style="object-fit:fill;" autoplay loops controls><br><br><source src="/app/assets/video/jump.mp4" type="video/mp4"><br></video><a id="more"></a>]]></content>
      
      
      <categories>
          
          <category> demo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> GSAP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>迁移博客ing</title>
      <link href="/2018/03/09/Migration-Blog/"/>
      <url>/2018/03/09/Migration-Blog/</url>
      
        <content type="html"><![CDATA[<h2 id="为什么迁移博客"><a href="#为什么迁移博客" class="headerlink" title="为什么迁移博客"></a>为什么迁移博客</h2><p>博客断断续续也写了两年多了，从<code>wordpress</code>到<code>hexo</code>、从<code>阿里云</code>到<code>coding</code>，最终决定同时放在<code>阿里云</code>、<code>coding</code>、<code>github</code>上。进来准备跳槽，看看面试题、整理做过的项目。博客是最头疼的了，以前写的很乱，但还是不想就这么扔了。之前不是用 Markdown 写的，现在全部整理成 Markdown，着实费劲。等面试完再好好整理吧，最近准备投简历面试，再补补血才是大事。</p><h2 id="为什么用-hexo"><a href="#为什么用-hexo" class="headerlink" title="为什么用 hexo"></a>为什么用 hexo</h2><p><code>hexo</code> 优(zhuang)雅(bi)啊，操作简单、一键生成、一键部署，只需要专注于博文本身就行~</p><h2 id="为什么用-gitpage"><a href="#为什么用-gitpage" class="headerlink" title="为什么用 gitpage"></a>为什么用 gitpage</h2><p><code>gitpage</code>比较国(zhuang)际(bi)化，限制少、支持 git、支持绑定域名。原来(现在也是)用的<code>阿里云</code>虚拟云主机，1G 储存 50M 数据库，每月 10G 流量，还不支持 git，用<code>wordpress</code>撸文字，简直酸爽。</p><p>后来发现<code>coding</code>银牌会员版本，比<code>阿里云</code>虚拟云主机的配置还高，简直良心。现在我把博客同时部署在三者上面~</p><h2 id="TO-DO"><a href="#TO-DO" class="headerlink" title="TO DO"></a>TO DO</h2><p>想干的事多了，最近两会，很忙。今天开始写简历喽，博客先不搬了。希望自己可以进个纯粹的互联网公司啊，人民网不想待喽~</p>]]></content>
      
      
      <categories>
          
          <category> demo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 碎碎念 </tag>
            
            <tag> 学习 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>打乱数组——shuffle洗牌算法</title>
      <link href="/2018/02/28/array-shuffle/"/>
      <url>/2018/02/28/array-shuffle/</url>
      
        <content type="html"><![CDATA[<h2 id="洗牌算法-shuffle-的-js-实现"><a href="#洗牌算法-shuffle-的-js-实现" class="headerlink" title="洗牌算法(shuffle)的 js 实现"></a>洗牌算法(shuffle)的 js 实现</h2><p>相信很多小伙伴在实际项目中都会遇到需要打乱数组的情况,获取一个新的打乱的数组,我们称之为——洗牌算法(shuffle)<br>js 实现有多种方法</p><h3 id="Fisher-Yates"><a href="#Fisher-Yates" class="headerlink" title="Fisher-Yates"></a>Fisher-Yates</h3><p><a href="http://en.wikipedia.org/wiki/Fisher-Yates_shuffle" target="_blank" rel="noopener">Fisher-Yates</a>应该是最经典的了，这里有一个该算法的<a href="https://bost.ocks.org/mike/shuffle/" target="_blank" rel="noopener">可视化实现</a></p><p>其算法思想就是 <strong>从原始数组中随机抽取一个新的元素到新数组中</strong></p><p>下面是代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">shuffle</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> result = [],</span><br><span class="line">    random</span><br><span class="line">  <span class="keyword">while</span> (arr.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    random = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * arr.length)</span><br><span class="line">    result.push(arr[random])</span><br><span class="line">    arr.splice(random, <span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="通用的-Shuffle"><a href="#通用的-Shuffle" class="headerlink" title="通用的 Shuffle"></a>通用的 Shuffle</h3><p>Fisher 算法要去除原数组中的元素，所以时间复杂度为 O(n2)，下面讲的方法原理是<strong>每次从未处理的数组中随机取一个元素，然后把该元素放到数组的尾部，即数组的尾部放的就是已经处理过的元素</strong>，这是一种原地打乱的算法，每个元素随机概率也相等，时间复杂度从 Fisher 算法的 O(n2)提升到了 O(n)<br>具体步骤：</p><ol><li>选取数组(长度 n)中最后一个元素(arr[length-1])，将其与 n 个元素中的任意一个交换，此时最后一个元素已经确定</li><li>选取倒数第二个元素(arr[length-2])，将其与 n-1 个元素中的任意一个交换</li><li>重复第 1 2 步，直到剩下 1 个元素为止</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">shuffle</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> length = arr.length,</span><br><span class="line">    temp,</span><br><span class="line">    random</span><br><span class="line">  <span class="keyword">while</span> (<span class="number">0</span> != length) &#123;</span><br><span class="line">    random = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * length)</span><br><span class="line">    length--</span><br><span class="line">    <span class="comment">// swap</span></span><br><span class="line">    temp = arr[length]</span><br><span class="line">    arr[length] = arr[random]</span><br><span class="line">    arr[random] = temp</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> myArray = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">shuffle(myArray) <span class="comment">// [7, 3, 5, 1, 4, 2, 6, 8, 9]</span></span><br></pre></td></tr></table></figure><p>另一种写法：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">shuffle</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> random, temp, i</span><br><span class="line">  <span class="keyword">for</span> (i = arr.length - <span class="number">1</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">    random = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (i + <span class="number">1</span>))</span><br><span class="line">    temp = arr[i]</span><br><span class="line">    arr[i] = arr[random]</span><br><span class="line">    arr[random] = temp</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> myArray = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">shuffle(myArray) <span class="comment">// [2, 4, 9, 3, 1, 6, 8, 5, 7]</span></span><br></pre></td></tr></table></figure><p>当然给 <code>array</code> 添加原型方法也是可以的</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.shuffle = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> index, temp, i</span><br><span class="line">  <span class="keyword">for</span> (i = <span class="keyword">this</span>.length - <span class="number">1</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">    index = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (i + <span class="number">1</span>))</span><br><span class="line">    temp = <span class="keyword">this</span>[i]</span><br><span class="line">    <span class="keyword">this</span>[i] = <span class="keyword">this</span>[index]</span><br><span class="line">    <span class="keyword">this</span>[index] = temp</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> myArray = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">myArray.shuffle() <span class="comment">// [2, 6, 9, 4, 5, 7, 8, 3, 1]</span></span><br></pre></td></tr></table></figure><h2 id="其他实现方式"><a href="#其他实现方式" class="headerlink" title="其他实现方式"></a>其他实现方式</h2><h3 id="Array-sort"><a href="#Array-sort" class="headerlink" title="Array.sort()"></a>Array.sort()</h3><p>利用 <code>Array</code> 的 <code>sort</code> 方法可以更简洁的实现打乱，对于数量小的数组来说足够。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">;[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>].sort(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0.5</span> - <span class="built_in">Math</span>.random()</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// [8, 2, 5, 7, 4, 6, 9, 3, 1]</span></span><br></pre></td></tr></table></figure><h3 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h3><p>用 <code>ES6</code> 实现，代码更简洁</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">shuffle</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = arr.length - <span class="number">1</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">    <span class="keyword">const</span> random = (<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (i + <span class="number">1</span>))[</span><br><span class="line">      (arr[i], arr[random])</span><br><span class="line">    ] = [arr[random], arr[i]])</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> arr</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> myArray = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">shuffle(myArray) <span class="comment">// [3, 9, 2, 5, 4, 7, 1, 6, 8]</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 常用方法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 技巧 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SVG学习#day4 —— 利用path制作签明效果</title>
      <link href="/2017/07/16/SVG-study-4/"/>
      <url>/2017/07/16/SVG-study-4/</url>
      
        <content type="html"><![CDATA[<h2 id="查看演示"><a href="#查看演示" class="headerlink" title="查看演示"></a>查看演示</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/app/assets/images/2017/07/path1.gif" alt="签名效果 签的“王其征” 看的出来么……" title>                </div>                <div class="image-caption">签名效果 签的“王其征” 看的出来么……</div>            </figure><a id="more"></a><h2 id="查看-demo"><a href="#查看-demo" class="headerlink" title="查看 demo"></a>查看 demo</h2><p><strong><a href="/app/demo/gradients.html">demo</a></strong></p><h2 id="源码实现"><a href="#源码实现" class="headerlink" title="源码实现"></a>源码实现</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">viewBox</span>=<span class="string">"-80 0 400 200"</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    fill属性是否填充</span></span><br><span class="line"><span class="comment">    stroke为绘制，颜色#AAAAAA</span></span><br><span class="line"><span class="comment">    stroke-width为绘制线的粗细</span></span><br><span class="line"><span class="comment">    d是具体数据，这里看到的数据代表了坐标，以及折线等等，可以使用工具生成</span></span><br><span class="line"><span class="comment">   --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">path</span> <span class="attr">style</span>=<span class="string">"fill:none;stroke:#000000;stroke-width:0.26px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"</span> <span class="attr">d</span>=<span class="string">"M 12,94 C 6.8,100 49,83 42,91 31,100 -2.2,110 5.2,110 17,110 44,110 29,99 c -3,-3 -7,31 -7,41 -3,0 -24.6,0 -19.1,0 6.5,-10 52.1,-10 52.1,-10 5,0 -13,-20 2,-20 21,-10 53,-10 43,-11 0,-5 -32,-11 -38,-16 -2,0 -5,-2 -2,-2 0,0 2,59 2,59 -2,0 3,-30 6,-30 0,-10 5,-37 7,-37 3,0 3,18 3,21 0,6 3,46 -3,46 0,0 -7,-30 -7,-30 5,0 -3,20 -3,20 -3,0 10,0 3,0 -6,10 -21,10 -16,10 8,0 16,0 23,0 55,0 -33,-10 -13,20 3,0 37,-30 16,10 0,0 -3,0 -3,10 0,0 6,-20 8,-30 3,-10 11,-67 37,-67 0,0 -42,37 -42,37 5,-10 13,-10 21,-10 11,-10 11,-10 21,-11 30,-8 -20,21 -20,21 0,10 20,-10 20,-10 0,10 -10,40 -10,50 0,0 0,20 0,10 10,-20 20,-30 20,-50 10,0 10,-10 10,-10 0,-10 20,-10 30,-10 0,0 10,-4 10,-1 0,11 -10,11 -10,11 -10,60 0,30 0,30 10,0 20,0 0,0 0,0 -10,-10 -10,-10 -10,0 -10,30 -10,30 0,10 -20,0 -20,0 30,0 70,0 100,0 0,0 80,10 60,10"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">id</span>=<span class="string">"path6545"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $path = $(<span class="string">'path'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> current_frame, <span class="comment">//当前帧</span></span><br><span class="line">  total_frames, <span class="comment">//全部帧数</span></span><br><span class="line">  path, <span class="comment">//svg中的path元素</span></span><br><span class="line">  handle <span class="comment">//javascript动画句柄</span></span><br><span class="line">pathLen = [] <span class="comment">// 存储path长度，本案例只有唯一的path~</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始化</span></span><br><span class="line"><span class="keyword">var</span> init = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  current_frame = <span class="number">0</span></span><br><span class="line">  total_frames = <span class="number">260</span></span><br><span class="line">  $path.each(<span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> $<span class="keyword">this</span> = $path[i]</span><br><span class="line">    <span class="keyword">var</span> len = <span class="built_in">Math</span>.floor($<span class="keyword">this</span>.getTotalLength())</span><br><span class="line">    pathLen[i] = len</span><br><span class="line">    $<span class="keyword">this</span>.style.strokeDasharray = len + <span class="string">' '</span> + len</span><br><span class="line">    $<span class="keyword">this</span>.style.strokeDashoffset = len + <span class="string">' '</span> + len</span><br><span class="line">  &#125;)</span><br><span class="line">  handdle = <span class="literal">null</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 绘制</span></span><br><span class="line"><span class="keyword">var</span> draw = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> progress = current_frame / total_frames</span><br><span class="line">  <span class="keyword">if</span> (progress &gt; <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="built_in">window</span>.cancelAnimationFrame(handdle)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    current_frame++</span><br><span class="line">    $path.each(<span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> $<span class="keyword">this</span> = $path[i]</span><br><span class="line">      $<span class="keyword">this</span>.style.strokeDashoffset = <span class="built_in">Math</span>.floor(pathLen[i] * (<span class="number">1</span> - progress))</span><br><span class="line">    &#125;)</span><br><span class="line">    handdle = <span class="built_in">window</span>.requestAnimationFrame(draw)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始化</span></span><br><span class="line"><span class="keyword">var</span> begin = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  init()</span><br><span class="line">  draw()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">begin()</span><br></pre></td></tr></table></figure><h2 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h2><p>上述案例中，path 是唯一的，一半来说，图形很复杂，或者用用具生成的 path，会有很多。但是用上述代码也是可以实现的，如下图</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/app/assets/images/2017/07/path2.gif" alt="素描效果" title>                </div>                <div class="image-caption">素描效果</div>            </figure>]]></content>
      
      
      <categories>
          
          <category> demo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> SVG </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SVG学习#day3 —— 文本与渐变</title>
      <link href="/2017/07/11/SVG-study-3/"/>
      <url>/2017/07/11/SVG-study-3/</url>
      
        <content type="html"><![CDATA[<blockquote><p>本博客关于 SVG 的系列文章不是教程，只是在学习的时候，练练手的同时，展示一下小 demo，同事加强一下学习效果。想深入学习的同学，可以去<a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial" target="_blank" rel="noopener">MDN SVG 教程</a></p></blockquote><p>除了了简单的纯色填充和描边，SVG 还允许我们在填充和描边上应用渐变色~ 文本搭配渐变，可以做出很多惊喜的效果~</p><p>有两种类型的渐变：<strong>线性渐变</strong>和<strong>径向渐变</strong>。渐变内容需要定义在<defs>标签内部，而不是定义在形状上面，给渐变内容指定一个 id 属性，使得</defs></p><h2 id="查看演示"><a href="#查看演示" class="headerlink" title="查看演示"></a>查看演示</h2><p><strong><a href="/app/demo/gradients.html">demo</a></strong></p><h2 id="线性渐变"><a href="#线性渐变" class="headerlink" title="线性渐变"></a>线性渐变</h2><p>线性渐变沿着直线方向上改变颜色，要插入一个线性渐变，你需要在 SVG 文件的 defs 元素内部，创建一个<code>&lt;linearGradient&gt;</code> 节点</p><p>基本使用：</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/app/assets/images/2017/07/gradients1.png" alt="文本线性渐变" title>                </div>                <div class="image-caption">文本线性渐变</div>            </figure><a id="more"></a><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">id</span>=<span class="string">"gradient"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">defs</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">linearGradient</span> <span class="attr">id</span>=<span class="string">"linearGradient"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">stop</span> <span class="attr">offset</span>=<span class="string">"0%"</span> <span class="attr">stop-color</span>=<span class="string">"#15bcce"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">stop</span> <span class="attr">offset</span>=<span class="string">"50%"</span> <span class="attr">stop-color</span>=<span class="string">"#fccf26"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">stop</span> <span class="attr">offset</span>=<span class="string">"100%"</span> <span class="attr">stop-color</span>=<span class="string">"#f24949"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">linearGradient</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">defs</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span> <span class="attr">y</span>=<span class="string">"75%"</span> <span class="attr">x</span>=<span class="string">'50%'</span> <span class="attr">fill-opacity</span>=<span class="string">"0.5"</span> <span class="attr">fill</span>=<span class="string">"url(#linearGradient)"</span> <span class="attr">text-anchor</span>=<span class="string">"middle"</span>&gt;</span>线性渐变<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="径向渐变"><a href="#径向渐变" class="headerlink" title="径向渐变"></a>径向渐变</h2><p>径向渐变与线性渐变相似，只是它是从一个点开始发散绘制渐变。要插入一个径向渐变，你需要在 SVG 文件的 defs 元素内部，创建一个<code>&lt;radialGradient&gt;</code> 节点</p><p>基本使用：<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/app/assets/images/2017/07/gradients2.png" alt="文本径向渐变" title>                </div>                <div class="image-caption">文本径向渐变</div>            </figure></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">"750px"</span> <span class="attr">height</span>=<span class="string">"100px"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">defs</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">radialGradient</span> <span class="attr">id</span>=<span class="string">"Gradient1"</span> <span class="attr">cy</span>=<span class="string">"60%"</span> <span class="attr">fx</span>=<span class="string">"45%"</span> <span class="attr">fy</span>=<span class="string">"45%"</span> <span class="attr">r</span>=<span class="string">"2"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">stop</span> <span class="attr">offset</span>=<span class="string">"0%"</span> <span class="attr">class</span>=<span class="string">"flash"</span> <span class="attr">stop-color</span>=<span class="string">"green"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">stop</span> <span class="attr">offset</span>=<span class="string">"50%"</span> <span class="attr">class</span>=<span class="string">"flash2"</span> <span class="attr">style</span>=<span class="string">"animation-delay: 1.5s"</span> <span class="attr">stop-color</span>=<span class="string">"blue"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">stop</span> <span class="attr">class</span>=<span class="string">"100%"</span> <span class="attr">class</span>=<span class="string">"flash"</span> <span class="attr">stop-color</span>=<span class="string">"red"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">radialGradient</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">defs</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span> <span class="attr">y</span>=<span class="string">"75%"</span> <span class="attr">x</span>=<span class="string">'50%'</span> <span class="attr">text-anchor</span>=<span class="string">"middle"</span> <span class="attr">fill</span>=<span class="string">"url(#Gradient1)"</span>&gt;</span>径向渐变 <span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> demo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> SVG </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SVG学习#day2 —— 文字路径(textPath)的应用</title>
      <link href="/2017/07/09/SVG-study-2/"/>
      <url>/2017/07/09/SVG-study-2/</url>
      
        <content type="html"><![CDATA[<blockquote><p>本博客关于 SVG 的系列文章不是教程，只是在学习的时候，练练手的同时，展示一下小 demo，同事加强一下学习效果。想深入学习的同学，可以去<a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial" target="_blank" rel="noopener">MDN SVG 教程</a></p></blockquote><p><code>&lt;path&gt;</code>元素是 SVG 基本形状中最强大的一个，它不仅能创建其他基本形状，还能创建更多其他形状。与之相似的还有一个<code>&lt;textPath&gt;</code>,顾名思义，就是文字路径，文字沿着路径排列~</p><h2 id="效果展示："><a href="#效果展示：" class="headerlink" title="效果展示："></a>效果展示：</h2><p>【<strong><a href="/app/demo/SVG/path1.html">demo</a></strong>】<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/app/assets/images/2017/07/textpath2.gif" alt="文字沿指定路径排列" title>                </div>                <div class="image-caption">文字沿指定路径排列</div>            </figure></p><a id="more"></a><h2 id="lt-textPath-gt-基本使用"><a href="#lt-textPath-gt-基本使用" class="headerlink" title="&lt;textPath&gt;基本使用"></a><code>&lt;textPath&gt;</code>基本使用</h2><p>该元素利用它的 xlink:href 属性取得一个任意路径，把字符对齐到路径，于是字体会环绕路径、顺着路径走：</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/app/assets/images/2017/07/textpath1.png" alt="基本使用" title>                </div>                <div class="image-caption">基本使用</div>            </figure><p>核心代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">path</span> <span class="attr">id</span>=<span class="string">"myPath1"</span> <span class="attr">fill</span>=<span class="string">'none'</span> <span class="attr">d</span>=<span class="string">"M.5,115.5c44.9-39.21,77.13-44,99-40,36.49,6.63,49.27,38.5,83,40,31.32,1.39,58.32-24.41,77-48"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">transform</span>=<span class="string">"translate(3 -50)"</span> <span class="attr">stroke</span>=<span class="string">"red"</span> <span class="attr">stroke-width</span>=<span class="string">"0.5"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span> <span class="attr">font-size</span>=<span class="string">"14"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- xlink:href="#myPath"  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">textPath</span> <span class="attr">xlink:href</span>=<span class="string">"#myPath"</span> <span class="attr">startOffset</span>=<span class="string">"10%"</span>&gt;</span></span><br><span class="line">      王其征的网络日志 wangqizheng.win</span><br><span class="line">    <span class="tag">&lt;/<span class="name">textPath</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="利用-startOffset-做一个文字移动动画"><a href="#利用-startOffset-做一个文字移动动画" class="headerlink" title="利用 startOffset 做一个文字移动动画"></a>利用 startOffset 做一个文字移动动画</h2><p><code>startOffset</code>文字距离顶端的偏移量，利用这个属性，可以做一个简单的动画，如图</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/app/assets/images/2017/07/textpath3.gif" alt="通过startOffset实现一个简单的动画" title>                </div>                <div class="image-caption">通过startOffset实现一个简单的动画</div>            </figure><p>核心代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span> <span class="attr">viewBox</span>=<span class="string">"0 0 259.72 68.86"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">defs</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">path</span> <span class="attr">id</span>=<span class="string">"myPath"</span> <span class="attr">class</span>=<span class="string">'a'</span> <span class="attr">d</span>=<span class="string">"M.5,115.5c44.9-39.21,77.13-44,99-40,36.49,6.63,49.27,38.5,83,40,31.32,1.39,58.32-24.41,77-48"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">transform</span>=<span class="string">"translate(3 -50)"</span> <span class="attr">stroke</span>=<span class="string">"red"</span> <span class="attr">stroke-width</span>=<span class="string">"2"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">defs</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">"#MyPath"</span> <span class="attr">fill</span>=<span class="string">"none"</span> <span class="attr">stroke</span>=<span class="string">"red"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">path</span> <span class="attr">id</span>=<span class="string">"myPath1"</span> <span class="attr">fill</span>=<span class="string">'none'</span> <span class="attr">d</span>=<span class="string">"M.5,115.5c44.9-39.21,77.13-44,99-40,36.49,6.63,49.27,38.5,83,40,31.32,1.39,58.32-24.41,77-48"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">transform</span>=<span class="string">"translate(3 -50)"</span> <span class="attr">stroke</span>=<span class="string">"red"</span> <span class="attr">stroke-width</span>=<span class="string">"0.5"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span> <span class="attr">font-size</span>=<span class="string">"14"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">textPath</span> <span class="attr">id</span>=<span class="string">"textpath"</span> <span class="attr">xlink:href</span>=<span class="string">"#myPath"</span> <span class="attr">startOffset</span>=<span class="string">"0%"</span>&gt;</span></span><br><span class="line">      王其征的网络日志 wangqizheng.win</span><br><span class="line">      <span class="tag">&lt;<span class="name">animate</span> <span class="attr">xlink:href</span>=<span class="string">"#textpath"</span> <span class="attr">attributeName</span>=<span class="string">"startOffset"</span> <span class="attr">from</span>=<span class="string">"-100%"</span> <span class="attr">to</span>=<span class="string">"100%"</span> <span class="attr">dur</span>=<span class="string">"15s"</span> <span class="attr">repeatCount</span>=<span class="string">"indefinite"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">textPath</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/app/assets/images/2017/07/textpath2.gif" alt="拖动锚点控制路径及文本" title>                </div>                <div class="image-caption">拖动锚点控制路径及文本</div>            </figure><p>svg：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">id</span>=<span class="string">"drag"</span> <span class="attr">width</span>=<span class="string">"900"</span> <span class="attr">height</span>=<span class="string">"450"</span> <span class="attr">viewBox</span>=<span class="string">"0 0 900 450"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">defs</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">path</span> <span class="attr">id</span>=<span class="string">"path"</span> <span class="attr">d</span>=<span class="string">"M51,158Q193,358 397,226Q601,94 845,263"</span> <span class="attr">fill</span>=<span class="string">"transparent"</span> <span class="attr">stroke-width</span>=<span class="string">"1"</span>&gt;</span><span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">defs</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">use</span> <span class="attr">xmlns:xlink</span>=<span class="string">"http://www.w3.org/1999/xlink"</span> <span class="attr">xlink:href</span>=<span class="string">"#path"</span>&gt;</span><span class="tag">&lt;/<span class="name">use</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span> <span class="attr">stroke</span>=<span class="string">"none"</span> <span class="attr">font-size</span>=<span class="string">"26"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">textPath</span> <span class="attr">xmlns:xlink</span>=<span class="string">"http://www.w3.org/1999/xlink"</span> <span class="attr">xlink:href</span>=<span class="string">"#path"</span> <span class="attr">startOffset</span>=<span class="string">"10%"</span>&gt;</span></span><br><span class="line">      王其征的网络日志 wangqizheng.win</span><br><span class="line">    <span class="tag">&lt;/<span class="name">textPath</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">"51"</span> <span class="attr">cy</span>=<span class="string">"158"</span> <span class="attr">r</span>=<span class="string">"6"</span> <span class="attr">class</span>=<span class="string">"M"</span>&gt;</span><span class="tag">&lt;/<span class="name">circle</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">"193"</span> <span class="attr">cy</span>=<span class="string">"358"</span> <span class="attr">r</span>=<span class="string">"6"</span> <span class="attr">class</span>=<span class="string">"Q"</span>&gt;</span><span class="tag">&lt;/<span class="name">circle</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">"397"</span> <span class="attr">cy</span>=<span class="string">"226"</span> <span class="attr">r</span>=<span class="string">"6"</span> <span class="attr">class</span>=<span class="string">" "</span>&gt;</span><span class="tag">&lt;/<span class="name">circle</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">"601"</span> <span class="attr">cy</span>=<span class="string">"94"</span> <span class="attr">r</span>=<span class="string">"6"</span> <span class="attr">class</span>=<span class="string">"Q"</span>&gt;</span><span class="tag">&lt;/<span class="name">circle</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">"845"</span> <span class="attr">cy</span>=<span class="string">"263"</span> <span class="attr">r</span>=<span class="string">"6"</span> <span class="attr">class</span>=<span class="string">" "</span>&gt;</span><span class="tag">&lt;/<span class="name">circle</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">line</span> <span class="attr">x1</span>=<span class="string">"193"</span> <span class="attr">y1</span>=<span class="string">"358"</span> <span class="attr">x2</span>=<span class="string">"601"</span> <span class="attr">y2</span>=<span class="string">"94"</span>&gt;</span><span class="tag">&lt;/<span class="name">line</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><p>控制：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> svg = <span class="built_in">document</span>.querySelector(<span class="string">'svg'</span>)</span><br><span class="line"><span class="keyword">var</span> path = <span class="built_in">document</span>.querySelector(<span class="string">'#path'</span>)</span><br><span class="line"><span class="keyword">var</span> line = <span class="built_in">document</span>.querySelector(<span class="string">'line'</span>)</span><br><span class="line"><span class="keyword">var</span> circles = <span class="built_in">document</span>.querySelectorAll(<span class="string">'circle'</span>)</span><br><span class="line"><span class="keyword">var</span> cry = []</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; circles.length; i++) &#123;</span><br><span class="line">  <span class="keyword">var</span> o = &#123;&#125;</span><br><span class="line">  o.x = <span class="built_in">Number</span>(circles[i].getAttribute(<span class="string">'cx'</span>))</span><br><span class="line">  o.y = <span class="built_in">Number</span>(circles[i].getAttribute(<span class="string">'cy'</span>))</span><br><span class="line">  o.class = circles[i].getAttribute(<span class="string">'class'</span>)</span><br><span class="line">  o.history = &#123;</span><br><span class="line">    x: o.x,</span><br><span class="line">    y: o.y</span><br><span class="line">  &#125;</span><br><span class="line">  cry.push(o)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> dragging = <span class="literal">false</span></span><br><span class="line"><span class="keyword">var</span> index</span><br><span class="line"><span class="keyword">var</span> m = &#123;</span><br><span class="line">  x: <span class="number">0</span>,</span><br><span class="line">  y: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line">svg.addEventListener(</span><br><span class="line">  <span class="string">'mousedown'</span>,</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">evt</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (evt.target.tagName == <span class="string">'circle'</span>) &#123;</span><br><span class="line">      dragging = evt.target</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="literal">false</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">svg.addEventListener(</span><br><span class="line">  <span class="string">'mouseleave'</span>,</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">evt</span>) </span>&#123;</span><br><span class="line">    dragging = <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="literal">false</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">svg.addEventListener(</span><br><span class="line">  <span class="string">'mousemove'</span>,</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">evt</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (dragging) &#123;</span><br><span class="line">      m = oMousePos(svg, evt)</span><br><span class="line">      dragging.setAttributeNS(<span class="literal">null</span>, <span class="string">'cx'</span>, m.x)</span><br><span class="line">      dragging.setAttributeNS(<span class="literal">null</span>, <span class="string">'cy'</span>, m.y)</span><br><span class="line">      <span class="keyword">var</span> dPath = <span class="string">''</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; circles.length; i++) &#123;</span><br><span class="line">        cry[i].history.x = cry[i].x</span><br><span class="line">        cry[i].history.y = cry[i].y</span><br><span class="line">        cry[i].x = <span class="built_in">Number</span>(circles[i].getAttribute(<span class="string">'cx'</span>))</span><br><span class="line">        cry[i].y = <span class="built_in">Number</span>(circles[i].getAttribute(<span class="string">'cy'</span>))</span><br><span class="line">        <span class="keyword">if</span> (circles[i] == dragging) &#123;</span><br><span class="line">          index = i</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (index == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="comment">// 第一个控制点</span></span><br><span class="line">        <span class="keyword">var</span> dx1 = cry[<span class="number">1</span>].x - cry[<span class="number">2</span>].x</span><br><span class="line">        <span class="keyword">var</span> dy1 = cry[<span class="number">1</span>].y - cry[<span class="number">2</span>].y</span><br><span class="line">        cry[<span class="number">3</span>].x = cry[<span class="number">2</span>].x - dx1</span><br><span class="line">        cry[<span class="number">3</span>].y = cry[<span class="number">2</span>].y - dy1</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (index == <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="comment">//中间的控制点</span></span><br><span class="line">        <span class="keyword">var</span> dx2 = m.x - cry[<span class="number">2</span>].history.x</span><br><span class="line">        <span class="built_in">console</span>.log(dx2)</span><br><span class="line">        <span class="keyword">var</span> dy2 = m.y - cry[<span class="number">2</span>].history.y</span><br><span class="line">        cry[<span class="number">1</span>].x = cry[<span class="number">1</span>].x + dx2</span><br><span class="line">        cry[<span class="number">1</span>].y = cry[<span class="number">1</span>].y + dy2</span><br><span class="line">        cry[<span class="number">3</span>].x = cry[<span class="number">3</span>].x + dx2</span><br><span class="line">        cry[<span class="number">3</span>].y = cry[<span class="number">3</span>].y + dy2</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (index == <span class="number">3</span>) &#123;</span><br><span class="line">        <span class="comment">// 第二个控制点</span></span><br><span class="line">        <span class="keyword">var</span> dx3 = cry[<span class="number">3</span>].x - cry[<span class="number">2</span>].x</span><br><span class="line">        <span class="keyword">var</span> dy3 = cry[<span class="number">3</span>].y - cry[<span class="number">2</span>].y</span><br><span class="line">        cry[<span class="number">1</span>].x = cry[<span class="number">2</span>].x - dx3</span><br><span class="line">        cry[<span class="number">1</span>].y = cry[<span class="number">2</span>].y - dy3</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; circles.length; i++) &#123;</span><br><span class="line">        dPath += cry[i].class + cry[i].x + <span class="string">','</span> + cry[i].y</span><br><span class="line">        circles[i].setAttributeNS(<span class="literal">null</span>, <span class="string">'cx'</span>, cry[i].x)</span><br><span class="line">        circles[i].setAttributeNS(<span class="literal">null</span>, <span class="string">'cy'</span>, cry[i].y)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      path.setAttributeNS(<span class="literal">null</span>, <span class="string">'d'</span>, dPath)</span><br><span class="line">      line.setAttributeNS(<span class="literal">null</span>, <span class="string">'x1'</span>, cry[<span class="number">1</span>].x)</span><br><span class="line">      line.setAttributeNS(<span class="literal">null</span>, <span class="string">'y1'</span>, cry[<span class="number">1</span>].y)</span><br><span class="line">      line.setAttributeNS(<span class="literal">null</span>, <span class="string">'x2'</span>, cry[<span class="number">3</span>].x)</span><br><span class="line">      line.setAttributeNS(<span class="literal">null</span>, <span class="string">'y2'</span>, cry[<span class="number">3</span>].y)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="literal">false</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">svg.addEventListener(</span><br><span class="line">  <span class="string">'mouseup'</span>,</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">evt</span>) </span>&#123;</span><br><span class="line">    dragging = <span class="literal">false</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="literal">false</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">oMousePos</span>(<span class="params">elmt, evt</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ClientRect = elmt.getBoundingClientRect()</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    x: <span class="built_in">Math</span>.round(evt.clientX - ClientRect.left),</span><br><span class="line">    y: <span class="built_in">Math</span>.round(evt.clientY - ClientRect.top)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>参考 ： <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Gradients" target="_blank" rel="noopener">https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Gradients</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> demo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> SVG </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SVG学习#day1 —— 蒙版(mask)的使用</title>
      <link href="/2017/07/06/SVG-study-1/"/>
      <url>/2017/07/06/SVG-study-1/</url>
      
        <content type="html"><![CDATA[<blockquote><p>本博客关于 SVG 的系列文章不是教程，只是在学习的时候，练练手的同时，展示一下小 demo，同事加强一下学习效果。想深入学习的同学，可以去<a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial" target="_blank" rel="noopener">MDN SVG 教程</a></p></blockquote><p>SVG 支持多种蒙板，使用这些特性，可以做出很多很炫的效果。如图：<br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/app/assets/images/2017/07/mark1.png" alt="用mark遮罩做出的文字效果" title>                </div>                <div class="image-caption">用mark遮罩做出的文字效果</div>            </figure></p><p><strong>[<a href="/app/demo/SVG/mask.html">查看 demo</a>]</strong></p><p>SVG 支持的蒙板类型：</p><ul><li>裁剪路径(cliping path)裁剪路径是由 path, text 或者基本图形组成的图形。所有在裁剪路径内的图形(视频也行)都可见，所有在裁剪路径外的图形都不可见。</li><li>遮罩/蒙板(mask)蒙板是一种容器，它定义了一组图形并将它们作为半透明的媒介，可以用来组合前景对象和背景，和 PS 的蒙版一毛一样~</li></ul><p>这篇只讲 mark，感兴趣的的可以去<a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial" target="_blank" rel="noopener">MDN SVG 教程</a> 的 <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Clipping_and_masking" target="_blank" rel="noopener">Clipping_and_masking</a>章节</p><p>核心代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span> <span class="attr">viewBox</span>=<span class="string">"0 0 420 160"</span> <span class="attr">preserveAspectRatio</span>=<span class="string">"xMidYMid slice"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">defs</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mask</span> <span class="attr">id</span>=<span class="string">"mask"</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"100%"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"100%"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">text</span> <span class="attr">x</span>=<span class="string">"80"</span> <span class="attr">y</span>=<span class="string">"90"</span>&gt;</span>wangqizheng<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mask</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">defs</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">rect</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">"648"</span> <span class="attr">height</span>=<span class="string">"100%"</span> <span class="attr">mask</span>=<span class="string">"url(#mask)"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><p>参考：</p><blockquote><p>MDN SVG 教程: <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial" target="_blank" rel="noopener"> https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial</a><br>Clipping_and_masking: <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Clipping_and_masking" target="_blank" rel="noopener"> https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Clipping_and_masking</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> demo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 学习 </tag>
            
            <tag> SVG </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>高仿七喜官网导航效果 —— SVG动画导航</title>
      <link href="/2017/06/08/7up-svg-nav/"/>
      <url>/2017/06/08/7up-svg-nav/</url>
      
        <content type="html"><![CDATA[<p>今天上午设计找我，说要正在设计一个大专题，想要一个动态的导航效果（如下图），问我能不能实现。我能怎么办，把网址都贴给我了，当然是能实现啊……</p><!-- [本 demo 地址](http://172.31.36.229/study/gsap/morphSVG.html) --><p>看了一下<a href="http://www.7up.nl/producten/" target="_blank" rel="noopener">七喜的效果</a><br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/app/assets/images/7up2.gif" alt title>                </div>                <div class="image-caption"></div>            </figure></p><a id="more"></a><h3 id="第一步-分析原网页-拿到关键-SVG"><a href="#第一步-分析原网页-拿到关键-SVG" class="headerlink" title="第一步 分析原网页 拿到关键 SVG"></a>第一步 分析原网页 拿到关键 SVG</h3><p>分析源码发现，该效果由 GSAP 的<code>TweenMax</code>、<code>TimelineMax</code>和一个 SVG 变形插件<code>MorphSVGPlugin</code></p><p>安利一下 <a href="https://greensock.com/gsap" target="_blank" rel="noopener">GSAP</a>，大名鼎鼎的动画库，学 flash 的同学更是人尽皆知。<a href="https://github.com/greensock/GreenSock-JS" target="_blank" rel="noopener">github 库</a>已经 6w+的星星了~</p><ul><li><code>TweenMax</code>: GSAP 的核心 js 库</li><li><code>TimelineMax</code>: 实现时间轴，特别好用</li><li><code>MorphSVGPlugin</code>: SVG 变形插件，收费的~ 额，我把 GSAP 一系列的收费插件都破解了，只为学习~</li></ul><p>首先拿到关键的 SVG:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">version</span>=<span class="string">"1.1"</span> <span class="attr">class</span>=<span class="string">"back"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span> <span class="attr">xmlns:xlink</span>=<span class="string">"http://www.w3.org/1999/xlink"</span> <span class="attr">x</span>=<span class="string">"0px"</span> <span class="attr">y</span>=<span class="string">"0px"</span> <span class="attr">viewBox</span>=<span class="string">"0 0 130 200"</span> <span class="attr">style</span>=<span class="string">"enable-background:new 0 0 130 200;"</span> <span class="attr">xml:space</span>=<span class="string">"preserve"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">path</span> <span class="attr">class</span>=<span class="string">"back_4"</span> <span class="attr">d</span>=<span class="string">"M130,200V0c0,39.1-66.8,56.7-66.8,105.1C63.2,139.7,130,154.1,130,200z"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">path</span> <span class="attr">class</span>=<span class="string">"back_3"</span> <span class="attr">d</span>=<span class="string">"M130,200V0c0,40.5-26.6,59.5-26.6,100C103.4,154.5,130,162.8,130,200z"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">path</span> <span class="attr">class</span>=<span class="string">"back_2"</span> <span class="attr">d</span>=<span class="string">"M130,200V0c0,31.9-13.7,57.8-13.7,100C116.3,137.6,130,173.6,130,200z"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">path</span> <span class="attr">class</span>=<span class="string">"back_1"</span> <span class="attr">d</span>=<span class="string">"M130,200V0c0,40.5,0,59.5,0,100C130,154.5,130,162.8,130,200z"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- white shape --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">version</span>=<span class="string">"1.1"</span> <span class="attr">class</span>=<span class="string">"front"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span> <span class="attr">xmlns:xlink</span>=<span class="string">"http://www.w3.org/1999/xlink"</span></span></span><br><span class="line"><span class="tag">     <span class="attr">x</span>=<span class="string">"0px"</span> <span class="attr">y</span>=<span class="string">"0px"</span> <span class="attr">viewBox</span>=<span class="string">"0 0 130 200"</span> <span class="attr">style</span>=<span class="string">"enable-background:new 0 0 130 200;"</span> <span class="attr">xml:space</span>=<span class="string">"preserve"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">path</span> <span class="attr">class</span>=<span class="string">"front_2"</span> <span class="attr">d</span>=<span class="string">"M130,200V0c0,31.9-87.8,45.3-87.8,100C42.2,151.7,130,172,130,200z"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">path</span> <span class="attr">class</span>=<span class="string">"front_1"</span> <span class="attr">d</span>=<span class="string">"M130,200V0c0,31.9,0,57.8,0,100C130,137.6,130,173.6,130,200z"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="第二部-思路"><a href="#第二部-思路" class="headerlink" title="第二部 思路"></a>第二部 思路</h3><p>控制前景背景 SVG 的变形，关键代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">go</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  timeline.clear()</span><br><span class="line"></span><br><span class="line">  timeline</span><br><span class="line">    .to(</span><br><span class="line">      $back3,</span><br><span class="line">      <span class="number">0.5</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        morphSVG: &#123;</span><br><span class="line">          shape: $back2</span><br><span class="line">        &#125;,</span><br><span class="line">        ease: Back.easeInOut.config(<span class="number">2</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="number">0</span></span><br><span class="line">    )</span><br><span class="line">    .to(</span><br><span class="line">      $back3,</span><br><span class="line">      <span class="number">0.5</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        morphSVG: &#123;</span><br><span class="line">          shape: $back4</span><br><span class="line">        &#125;,</span><br><span class="line">        ease: Back.easeOut.config(<span class="number">2</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="number">0.45</span></span><br><span class="line">    )</span><br><span class="line">    .to(</span><br><span class="line">      $front1,</span><br><span class="line">      <span class="number">0.5</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        morphSVG: &#123;</span><br><span class="line">          shape: $front2</span><br><span class="line">        &#125;,</span><br><span class="line">        ease: Back.easeOut.config(<span class="number">2</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="number">0.45</span></span><br><span class="line">    )</span><br><span class="line">    .staggerTo(</span><br><span class="line">      $list,</span><br><span class="line">      <span class="number">0.1</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        left: <span class="number">-30</span>,</span><br><span class="line">        ease: Back.easeOut.config(<span class="number">2</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="number">0.1</span>,</span><br><span class="line">      <span class="number">0.3</span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">out</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  timeline.clear()</span><br><span class="line">  timeline</span><br><span class="line">    .staggerTo(</span><br><span class="line">      $list,</span><br><span class="line">      <span class="number">0.1</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        left: <span class="number">30</span>,</span><br><span class="line">        ease: Back.easeOut.config(<span class="number">2</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="number">-0.1</span></span><br><span class="line">    )</span><br><span class="line">    .to(</span><br><span class="line">      $front1,</span><br><span class="line">      <span class="number">0.35</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        morphSVG: &#123;</span><br><span class="line">          shape: $front1</span><br><span class="line">        &#125;,</span><br><span class="line">        ease: Back.easeInOut.config(<span class="number">2</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="number">0.3</span></span><br><span class="line">    )</span><br><span class="line">    .to(</span><br><span class="line">      $front2,</span><br><span class="line">      <span class="number">0.4</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        morphSVG: &#123;</span><br><span class="line">          shape: $front2</span><br><span class="line">        &#125;,</span><br><span class="line">        ease: Back.easeIn.config(<span class="number">2</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="number">0.5</span></span><br><span class="line">    )</span><br><span class="line">    .to(</span><br><span class="line">      $back3,</span><br><span class="line">      <span class="number">0.4</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        morphSVG: &#123;</span><br><span class="line">          shape: $back2</span><br><span class="line">        &#125;,</span><br><span class="line">        ease: Back.easeInOut.config(<span class="number">2</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="number">0.5</span></span><br><span class="line">    )</span><br><span class="line">    .to(</span><br><span class="line">      $back3,</span><br><span class="line">      <span class="number">0.4</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        morphSVG: &#123;</span><br><span class="line">          shape: $back3</span><br><span class="line">        &#125;,</span><br><span class="line">        ease: Back.easeOut.config(<span class="number">2</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="number">0.9</span></span><br><span class="line">    )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="触发事件"><a href="#触发事件" class="headerlink" title="触发事件"></a>触发事件</h3><p>鼠标移入一处导航时，触发事件。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.list'</span>).hover(</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    go()</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    out()</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h3><p><a href="/app/demo/morphSVG.html">demo 展示</a><br><strong>最终效果:</strong><br><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/app/assets/images/7up.gif" alt title>                </div>                <div class="image-caption"></div>            </figure><br><strong>完整代码:</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"http://tools.people.cn/libs/jquery/1.11.1/jquery-1.11.1.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/gsap@1.20.4/src/minified/TweenMax.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/gsap@1.20.4/src/minified/TimelineMax.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"../assets/js/GSAP/pro/MorphSVGPlugin.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    body &#123;</span></span><br><span class="line"><span class="undefined">      background: #f1f1f1;</span></span><br><span class="line"><span class="undefined">      overflow: hidden;</span></span><br><span class="line"><span class="undefined">      font-family: Arial, "Microsoft YaHei";</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    .test&#123;</span></span><br><span class="line"><span class="undefined">        width: 200px;</span></span><br><span class="line"><span class="undefined">        height: 200px;</span></span><br><span class="line"><span class="undefined">        background: red;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">        .nav&#123;</span></span><br><span class="line"><span class="undefined">            width: 100px;</span></span><br><span class="line"><span class="undefined">            height: 300px;</span></span><br><span class="line"><span class="undefined">            position: absolute;</span></span><br><span class="line"><span class="undefined">            right: 0;</span></span><br><span class="line"><span class="undefined">            top: 50%;</span></span><br><span class="line"><span class="undefined">            transform: translateY(-50%);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        .nav .svgwrap&#123;</span></span><br><span class="line"><span class="undefined">            height: 100%;</span></span><br><span class="line"><span class="undefined">            overflow:  hidden;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        .nav ul&#123;</span></span><br><span class="line"><span class="undefined">            position: absolute;</span></span><br><span class="line"><span class="undefined">            top: 50%;</span></span><br><span class="line"><span class="undefined">            right: -50px;</span></span><br><span class="line"><span class="undefined">            display: block;</span></span><br><span class="line"><span class="undefined">            width: auto;</span></span><br><span class="line"><span class="undefined">            transform: translateY(-50%);</span></span><br><span class="line"><span class="undefined">            cursor: pointer;</span></span><br><span class="line"><span class="undefined">            color: #000;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            width: 130px;</span></span><br><span class="line"><span class="undefined">            overflow:  hidden;</span></span><br><span class="line"><span class="undefined">            list-style: none</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        .nav ul li&#123;</span></span><br><span class="line"><span class="undefined">            padding-left: 50px;</span></span><br><span class="line"><span class="undefined">            position: relative;</span></span><br><span class="line"><span class="undefined">            left: 30px;</span></span><br><span class="line"><span class="undefined">            margin-bottom: 20px;</span></span><br><span class="line"><span class="undefined">            transition: all .3s;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        .nav ul li:hover&#123;</span></span><br><span class="line"><span class="undefined">            font-weight: bold;</span></span><br><span class="line"><span class="undefined">            color: #f20;</span></span><br><span class="line"><span class="undefined">            margin-left: -20px;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        .nav ul li i&#123;</span></span><br><span class="line"><span class="undefined">            width: 5px;</span></span><br><span class="line"><span class="undefined">            height: 5px;</span></span><br><span class="line"><span class="undefined">            border:    1px solid #fff;</span></span><br><span class="line"><span class="undefined">            position: absolute;</span></span><br><span class="line"><span class="undefined">            left: 0;</span></span><br><span class="line"><span class="undefined">            top: 8px;</span></span><br><span class="line"><span class="undefined">            border-radius:50%;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        svg&#123;</span></span><br><span class="line"><span class="undefined">            height: 270%;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        .back,.front&#123;</span></span><br><span class="line"><span class="undefined">            position: absolute;</span></span><br><span class="line"><span class="undefined">            top: 50%;</span></span><br><span class="line"><span class="undefined">            right: 0;</span></span><br><span class="line"><span class="undefined">            display: block;</span></span><br><span class="line"><span class="undefined">            width: auto;</span></span><br><span class="line"><span class="undefined">            transform: translateY(-50%);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        .back path &#123;</span></span><br><span class="line"><span class="undefined">            fill: green;</span></span><br><span class="line"><span class="undefined">            display: none;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        .front path&#123;</span></span><br><span class="line"><span class="undefined">            fill: #fff;</span></span><br><span class="line"><span class="undefined">            display: none;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">       .front &#123;</span></span><br><span class="line"><span class="undefined">            /* right: -112px; */</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            margin-top: -15px;</span></span><br><span class="line"><span class="undefined">            height: 200%;</span></span><br><span class="line"><span class="undefined">            /* width: 500px; */</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        .back .back_3&#123;</span></span><br><span class="line"><span class="undefined">            display:   block;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">        .front .front_1&#123;</span></span><br><span class="line"><span class="undefined">            display:   block;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>仿七喜SVG动态导航<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"nav"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"svgwrap"</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">svg</span> <span class="attr">version</span>=<span class="string">"1.1"</span> <span class="attr">class</span>=<span class="string">"back"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span> <span class="attr">xmlns:xlink</span>=<span class="string">"http://www.w3.org/1999/xlink"</span> <span class="attr">x</span>=<span class="string">"0px"</span> <span class="attr">y</span>=<span class="string">"0px"</span> <span class="attr">viewBox</span>=<span class="string">"0 0 130 200"</span> <span class="attr">style</span>=<span class="string">"enable-background:new 0 0 130 200;"</span> <span class="attr">xml:space</span>=<span class="string">"preserve"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">path</span> <span class="attr">class</span>=<span class="string">"back_4"</span> <span class="attr">d</span>=<span class="string">"M130,200V0c0,39.1-66.8,56.7-66.8,105.1C63.2,139.7,130,154.1,130,200z"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">path</span> <span class="attr">class</span>=<span class="string">"back_3"</span> <span class="attr">d</span>=<span class="string">"M130,200V0c0,40.5-26.6,59.5-26.6,100C103.4,154.5,130,162.8,130,200z"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">path</span> <span class="attr">class</span>=<span class="string">"back_2"</span> <span class="attr">d</span>=<span class="string">"M130,200V0c0,31.9-13.7,57.8-13.7,100C116.3,137.6,130,173.6,130,200z"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">path</span> <span class="attr">class</span>=<span class="string">"back_1"</span> <span class="attr">d</span>=<span class="string">"M130,200V0c0,40.5,0,59.5,0,100C130,154.5,130,162.8,130,200z"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- white shape --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">svg</span> <span class="attr">version</span>=<span class="string">"1.1"</span> <span class="attr">class</span>=<span class="string">"front"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span> <span class="attr">xmlns:xlink</span>=<span class="string">"http://www.w3.org/1999/xlink"</span></span></span><br><span class="line"><span class="tag">             <span class="attr">x</span>=<span class="string">"0px"</span> <span class="attr">y</span>=<span class="string">"0px"</span> <span class="attr">viewBox</span>=<span class="string">"0 0 130 200"</span> <span class="attr">style</span>=<span class="string">"enable-background:new 0 0 130 200;"</span> <span class="attr">xml:space</span>=<span class="string">"preserve"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">path</span> <span class="attr">class</span>=<span class="string">"front_2"</span> <span class="attr">d</span>=<span class="string">"M130,200V0c0,31.9-87.8,45.3-87.8,100C42.2,151.7,130,172,130,200z"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">path</span> <span class="attr">class</span>=<span class="string">"front_1"</span> <span class="attr">d</span>=<span class="string">"M130,200V0c0,31.9,0,57.8,0,100C130,137.6,130,173.6,130,200z"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"list"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>关于<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>王其征<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>人民网<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> tm = TweenMax;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> timeline =  <span class="keyword">new</span> TimelineMax();</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> $list = $(<span class="string">".list li"</span>),</span></span><br><span class="line"><span class="javascript">            $front1 = $(<span class="string">".front_1"</span>),</span></span><br><span class="line"><span class="javascript">            $front2 = $(<span class="string">".front_2"</span>),</span></span><br><span class="line"><span class="javascript">            $back1 = $(<span class="string">".back_1"</span>),</span></span><br><span class="line"><span class="javascript">            $back2 = $(<span class="string">".back_2"</span>),</span></span><br><span class="line"><span class="javascript">            $back3 = $(<span class="string">".back_3"</span>),</span></span><br><span class="line"><span class="javascript">            $back4 = $(<span class="string">".back_4"</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">go</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">            timeline.clear();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            timeline.to($back3, .5, &#123;</span></span><br><span class="line"><span class="undefined">                morphSVG: &#123;</span></span><br><span class="line"><span class="undefined">                    shape: $back2</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="undefined">                ease: Back.easeInOut.config(2)</span></span><br><span class="line"><span class="undefined">            &#125;, 0).to($back3, .5, &#123;</span></span><br><span class="line"><span class="undefined">                morphSVG: &#123;</span></span><br><span class="line"><span class="undefined">                    shape: $back4</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="undefined">                ease: Back.easeOut.config(2)</span></span><br><span class="line"><span class="undefined">            &#125;, 0.45) .to($front1, .5, &#123;</span></span><br><span class="line"><span class="undefined">                morphSVG: &#123;</span></span><br><span class="line"><span class="undefined">                    shape: $front2</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="undefined">                ease: Back.easeOut.config(2)</span></span><br><span class="line"><span class="undefined">            &#125;, 0.45).staggerTo($list,.1,&#123;</span></span><br><span class="line"><span class="undefined">                left:-30,</span></span><br><span class="line"><span class="undefined">                ease: Back.easeOut.config(2)</span></span><br><span class="line"><span class="undefined">            &#125;,0.1,0.3)</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">out</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">            timeline.clear();</span></span><br><span class="line"><span class="undefined">            timeline.staggerTo($list,.1,&#123;</span></span><br><span class="line"><span class="undefined">                left:30,</span></span><br><span class="line"><span class="undefined">                 ease: Back.easeOut.config(2)</span></span><br><span class="line"><span class="undefined">            &#125;,-0.1).to($front1, .35, &#123;</span></span><br><span class="line"><span class="undefined">                morphSVG: &#123;</span></span><br><span class="line"><span class="undefined">                    shape: $front1</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="undefined">                ease: Back.easeInOut.config(2)</span></span><br><span class="line"><span class="undefined">            &#125;, .3).to($front2, .4, &#123;</span></span><br><span class="line"><span class="undefined">                morphSVG: &#123;</span></span><br><span class="line"><span class="undefined">                    shape: $front2</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="undefined">                ease: Back.easeIn.config(2)</span></span><br><span class="line"><span class="undefined">            &#125;, .5).to($back3, .4, &#123;</span></span><br><span class="line"><span class="undefined">                morphSVG: &#123;</span></span><br><span class="line"><span class="undefined">                    shape: $back2</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="undefined">                ease: Back.easeInOut.config(2)</span></span><br><span class="line"><span class="undefined">            &#125;, .5).to($back3, .4, &#123;</span></span><br><span class="line"><span class="undefined">                morphSVG: &#123;</span></span><br><span class="line"><span class="undefined">                    shape:$back3</span></span><br><span class="line"><span class="undefined">                &#125;,</span></span><br><span class="line"><span class="undefined">                ease: Back.easeOut.config(2)</span></span><br><span class="line"><span class="undefined">            &#125;, .9)</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        $(<span class="string">".list"</span>).hover(</span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                go();</span></span><br><span class="line"><span class="javascript">            &#125;,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">                out()</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        )</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><ul><li>本案例使用的核心文件是 MorphSVG.js，收费的，比较尴尬，我自己破解的，你下载下来也用不了……</li><li>关于 GSAP，可以看我的相关教程</li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> demo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GSAP </tag>
            
            <tag> svg动画 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GreenSock动画教程3 =&gt; 缓动效果</title>
      <link href="/2017/06/01/gsap3/"/>
      <url>/2017/06/01/gsap3/</url>
      
        <content type="html"><![CDATA[<h2 id="什么是-ease"><a href="#什么是-ease" class="headerlink" title="什么是 ease"></a>什么是 ease</h2><p>我们做 css3 动画的时候，都知道有个<code>animation-timing-function</code>，用来规定动画的运动曲线，取值有<code>linear</code>(动画从头到尾的速度是相同的)、<code>ease</code>(动画以低速开始，然后加快，在结束前变慢)、<code>ease-in</code>(动画以低速开始)、<code>ease-out</code>(动画以低速结束)、<code>ease-in-out</code>(动画以低速开始和结束)。我理解为运动速度，这样可能更好懂一些。GSAP 提供了许多动画效果，节本可以满足绝大多数的运动效果，而且还支持用户自定义曲线效果，下面的可视化曲线会方便大家更好的理解。</p><p><iframe src="/app/demo/ease.html"><br></iframe></p><style>  iframe{    display:block;    height:1050px;    width:100%;    border:none;  }</style><a id="more"></a><h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2><p>设置运动效果，可以在参数中加入 <code>ease:你想要的效果</code>,下面是案例</p><p data-height="375" data-theme-id="0" data-slug-hash="Vbopaw" data-default-tab="css,result" data-user="jenkey2011" data-embed-version="2" data-pen-title="Vbopaw" class="codepen">See the Pen <a href="https://codepen.io/jenkey2011/pen/Vbopaw/" target="_blank" rel="noopener">Vbopaw</a> by Wang Qizheng (<a href="https://codepen.io/jenkey2011" target="_blank" rel="noopener">@jenkey2011</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</p>]]></content>
      
      
      <categories>
          
          <category> 原创教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GreenSock </tag>
            
            <tag> js动画 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GreenSock动画教程2 =&gt; 简单动画制作</title>
      <link href="/2017/05/27/gsap2/"/>
      <url>/2017/05/27/gsap2/</url>
      
        <content type="html"><![CDATA[<p>我们先来一个简单的动画作为演示，让一个元素水平向右移动 200 像素(点击右下角”rerun”,可再次播放)</p><p data-height="265" data-theme-id="dark" data-slug-hash="bWXprO" data-default-tab="css,result" data-user="jenkey2011" data-embed-version="2" data-pen-title=" TweenMax.to()" class="codepen">See the Pen <a href="https://codepen.io/jenkey2011/pen/bWXprO/" target="_blank" rel="noopener"> TweenMax.to()</a> by Wang Qizheng (<a href="https://codepen.io/jenkey2011" target="_blank" rel="noopener">@jenkey2011</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</p><a id="more"></a><h3 id="TweenMax-to"><a href="#TweenMax-to" class="headerlink" title="TweenMax.to()"></a><strong>TweenMax.to()</strong></h3><blockquote><p>语法：TweenMax.to( target:Object, duration:Number, vars:Object )</p></blockquote><blockquote><ul><li>target : Object<br>这里参数是传入一个或多个元素。支持原生 js 选择器，支持 jquery 选择器</li><li>duration:Number<br>动画持续时间，数字类型</li><li>vars:Object<br>动画属性，如宽度高度、位置，甚至是背景颜色</li></ul></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 原生选择器</span></span><br><span class="line"><span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">"box"</span>);</span><br><span class="line">TweenMax.to(box, <span class="number">1</span>, &#123;</span><br><span class="line">  x: <span class="number">200</span> <span class="comment">//x的意义就是水平方向,即left:200</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"> <span class="comment">// jq选择器</span></span><br><span class="line">TweenMax.to($(<span class="string">"#box"</span>), <span class="number">1</span>, &#123;</span><br><span class="line">  x: <span class="number">200</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">上述两种写法完全相同，后续默认引入jq，按第二种方法书写</span><br></pre></td></tr></table></figure><h3 id="TweenMax-from"><a href="#TweenMax-from" class="headerlink" title="TweenMax.from()"></a><strong>TweenMax.from()</strong></h3><blockquote><p>语法：TweenMax.from( target:Object, duration:Number, vars:Object )<br>参数和 TweenMax.to()相同，只是 to()是去往设置的最终值，而 from()是从设置的值处来。见案例</p></blockquote><p data-height="265" data-theme-id="0" data-slug-hash="OmKNxo" data-default-tab="css,result" data-user="jenkey2011" data-embed-version="2" data-pen-title="OmKNxo" class="codepen">See the Pen <a href="https://codepen.io/jenkey2011/pen/OmKNxo/" target="_blank" rel="noopener">TweenMax.from()</a> by Wang Qizheng (<a href="https://codepen.io/jenkey2011" target="_blank" rel="noopener">@jenkey2011</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</p><h3 id="TweenMax-fromTo"><a href="#TweenMax-fromTo" class="headerlink" title="TweenMax.fromTo()"></a><strong>TweenMax.fromTo()</strong></h3><blockquote><p>语法：TweenMax.fromTo( target:Object, duration:Number, fromVars:Object, toVars:Object )<br> 顾名思义，就是设置一个元素，从某个状态到某个状态，见案例</p></blockquote><p data-height="265" data-theme-id="0" data-slug-hash="GmVZxB" data-default-tab="css,result" data-user="jenkey2011" data-embed-version="2" data-pen-title="TweenMax.fromTo()" class="codepen">See the Pen <a href="https://codepen.io/jenkey2011/pen/GmVZxB/" target="_blank" rel="noopener">TweenMax.fromTo()</a> by Wang Qizheng (<a href="https://codepen.io/jenkey2011" target="_blank" rel="noopener">@jenkey2011</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</p><h3 id="TweenMax-set"><a href="#TweenMax-set" class="headerlink" title="TweenMax.set()"></a><strong>TweenMax.set()</strong></h3><blockquote><p>语法：TweenMax.set( target:Object, vars:Object ) <br>设置元素样式，和 jquery 的$(xx).css(xx)类似，这里不做例子了</p></blockquote><h3 id="根据上述四个方法，做一个综合动画"><a href="#根据上述四个方法，做一个综合动画" class="headerlink" title="根据上述四个方法，做一个综合动画"></a>根据上述四个方法，做一个综合动画</h3><p data-height="527" data-theme-id="0" data-slug-hash="GmVjJo" data-default-tab="js,result" data-user="jenkey2011" data-embed-version="2" data-pen-title="GmVjJo" class="codepen">See the Pen <a href="https://codepen.io/jenkey2011/pen/GmVjJo/" target="_blank" rel="noopener">综合动画</a> by Wang Qizheng (<a href="https://codepen.io/jenkey2011" target="_blank" rel="noopener">@jenkey2011</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</p>]]></content>
      
      
      <categories>
          
          <category> 原创教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GreenSock </tag>
            
            <tag> js动画 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GreenSock动画教程(1) =&gt; 简介、模块组成</title>
      <link href="/2017/05/25/gsap1/"/>
      <url>/2017/05/25/gsap1/</url>
      
        <content type="html"><![CDATA[<p>GSAP 是我分析案例时，发现的一个强大的 js 动画库。GSAP 满足我所有的项目需求——快速、高效、强大。所以我也想推广给大家~</p><h2 id="什么是-GreenSock"><a href="#什么是-GreenSock" class="headerlink" title="什么是 GreenSock"></a>什么是 GreenSock</h2><p>GreenSock 是一个非常快速、轻量级和灵活的动画工具，官方叫 GSAP 动画平台，官网、demo、教程，时时刻刻安利这个 GSAP，所以后面我也统称为 GSAP…… TweenLite 可以使任意的元素在一定的时间内，通过改变一个或多个属性，做出流畅的动画。TweenLine 可以做出更复杂的序列帧动画(这在我的实际项目中帮助很大)。</p><a id="more"></a><h2 id="GSAP-结构"><a href="#GSAP-结构" class="headerlink" title="GSAP 结构"></a>GSAP 结构</h2><p>GSAP 提供四个动画模块</p><ul><li><code>TweenLite</code> : 这是 GSAP 的的核心部分，可以实现大部分的动画效果。比如：元素的位置、宽度高度等等等一些基础属性。如果要对其他属性做出动画过渡效果，诸如<code>fontSize</code>、<code>backgroundColor</code>，那么就需要引入<strong>CSSPlugin</strong>。其他高级方法或者动画，也需要引入其他插件。TweenLite 适合实现一些简单的动画效果</li><li><code>TweenLineLite</code> : 一个强大轻量的序列工具，相当于是<code>adobe flash</code>的时间轴的概念，容纳其他的动画效果，精确空着各个动画的时间关系，也可以轻松控制整个时间轴的各种状态，播放、暂停、重播，和一个视频一样。TweenLineLite 适合做一些复杂的，一连串的动画。</li><li><code>TweenMax</code> : TweenLite 的拓展版，包含 Tweenlite 的全部功能之外，还支持动画延迟、动画循环、悠悠球效果。TweenMax 包含所有功能，虽然不是轻量级的，但还是建议大家使用这个而非轻量版。</li><li><code>TweenLineMax</code> : TweenLineLite 的拓展版，包含 TweenlineLite 的全部功能之外，还支持动画循环、各个动画之间的延迟、时间轴悠悠球的效果。建议使用，理由同上…… 我们的目标是，功能齐全，拿来就用……</li></ul><blockquote><p>综上，GSAP 提供的动画工具，轻量、快速，可以制作流畅、复杂的动画，实际开发中，建议使用 TweenMax 和 TweenLineMax(非必须，如果不是做时间轴，可以选择不用)。<br>GSAP 还有一些收费的插件，比如分割单个字符插件、SVG 平滑变形插件、模拟物理效果插件</p></blockquote><h2 id="资源"><a href="#资源" class="headerlink" title="资源"></a>资源</h2><p><a href="https://greensock.com/gsap" target="_blank" rel="noopener">官网地址</a><br><a href="https://github.com/greensock/GreenSock-JS" target="_blank" rel="noopener">github 地址</a><br><a href="https://greensock.com/docs/#/HTML5/" target="_blank" rel="noopener">官方文档</a></p>]]></content>
      
      
      <categories>
          
          <category> 原创教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GreenSock </tag>
            
            <tag> js动画 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一步步教你制作一个水波loading效果</title>
      <link href="/2017/05/24/svg-%E6%B0%B4%E6%B3%A2%E5%8A%A0%E8%BD%BD%E6%95%88%E6%9E%9C/"/>
      <url>/2017/05/24/svg-%E6%B0%B4%E6%B3%A2%E5%8A%A0%E8%BD%BD%E6%95%88%E6%9E%9C/</url>
      
        <content type="html"><![CDATA[<h3 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h3><p>如下图所示的波浪动画效果，实现方法有很多，比如 CSS 或者是 js 等方法都可以实现。本片文章来讲讲如何用 SVG 实现，比前述两种方法实现要简单的多，定制性也很强</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/app/assets/images/2017/05/rectgif7.gif" alt="loading动画" title>                </div>                <div class="image-caption">loading动画</div>            </figure><a id="more"></a><p>这个效果主要实现方式是 SVG 中的蒙版(mark)和图案填充(pattern)</p><h3 id="做一个波浪形背景"><a href="#做一个波浪形背景" class="headerlink" title="做一个波浪形背景"></a>做一个波浪形背景</h3><p>先做一个 SVG 的波浪形的矩形(我用的 AI,当然可以手写)。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/app/assets/images/2017/05/rect.png" alt title>                </div>                <div class="image-caption"></div>            </figure><p>现在先让它做水平平移运动</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/app/assets/images/2017/05/rectgif.gif" alt title>                </div>                <div class="image-caption"></div>            </figure><p>接着让它同时在水平和竖直方向上做平移运动</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/app/assets/images/2017/05/rectgif2.gif" alt title>                </div>                <div class="image-caption"></div>            </figure><p>以下为静态矩形代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">"loading"</span> <span class="attr">version</span>=<span class="string">"1.1"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span> <span class="attr">xmlns:xlink</span>=<span class="string">"http://www.w3.org/1999/xlink"</span> <span class="attr">x</span>=<span class="string">"0px"</span> <span class="attr">y</span>=<span class="string">"0px"</span> <span class="attr">width</span>=<span class="string">"574.558px"</span> <span class="attr">height</span>=<span class="string">"120px"</span> <span class="attr">viewBox</span>=<span class="string">"0 0 574.558 120"</span> <span class="attr">enable-background</span>=<span class="string">"new 0 0 574.558 120"</span> <span class="attr">xml:space</span>=<span class="string">"preserve"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">defs</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">pattern</span> <span class="attr">id</span>=<span class="string">"water"</span> <span class="attr">width</span>=<span class="string">".25"</span> <span class="attr">height</span>=<span class="string">"1.1"</span> <span class="attr">patternContentUnits</span>=<span class="string">"objectBoundingBox"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">path</span> <span class="attr">fill</span>=<span class="string">"#fff"</span> <span class="attr">d</span>=<span class="string">"M0.25,1H0c0,0,0-0.659,0-0.916c0.083-0.303,0.158,0.334,0.25,0C0.25,0.327,0.25,1,0.25,1z"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">defs</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rect</span> <span class="attr">class</span>=<span class="string">"water-fill"</span> <span class="attr">fill</span>=<span class="string">"url(#water)"</span> <span class="attr">x</span>=<span class="string">"-400"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">"1600"</span> <span class="attr">height</span>=<span class="string">"120"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="做一个遮罩"><a href="#做一个遮罩" class="headerlink" title="做一个遮罩"></a>做一个遮罩</h3><p>在蒙板中使用了白色来填充文字。这是因为在 SVG 中的蒙版中，在白色中的内容区域是可见的，而黑色区域的内容是不可见的。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">defs</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span> <span class="attr">id</span>=<span class="string">"text"</span> <span class="attr">font-size</span>=<span class="string">"100"</span>&gt;</span>PEOPLE<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">mask</span> <span class="attr">id</span>=<span class="string">"text-mask"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">use</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">xlink:href</span>=<span class="string">"#text"</span> <span class="attr">fill</span>=<span class="string">"#ffffff"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">mask</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">defs</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> --&gt;</span></span><br></pre></td></tr></table></figure><p>将二者合并的静态效果</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/app/assets/images/2017/05/rect2.png" alt="遮罩和水波合并" title>                </div>                <div class="image-caption">遮罩和水波合并</div>            </figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">"loading"</span> <span class="attr">version</span>=<span class="string">"1.1"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span> <span class="attr">xmlns:xlink</span>=<span class="string">"http://www.w3.org/1999/xlink"</span> <span class="attr">x</span>=<span class="string">"0px"</span> <span class="attr">y</span>=<span class="string">"0px"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">width</span>=<span class="string">"574.558px"</span> <span class="attr">height</span>=<span class="string">"120px"</span> <span class="attr">viewBox</span>=<span class="string">"0 0 574.558 120"</span> <span class="attr">enable-background</span>=<span class="string">"new 0 0 574.558 120"</span> <span class="attr">xml:space</span>=<span class="string">"preserve"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">defs</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">pattern</span> <span class="attr">id</span>=<span class="string">"water"</span> <span class="attr">width</span>=<span class="string">".25"</span> <span class="attr">height</span>=<span class="string">"1.1"</span> <span class="attr">patternContentUnits</span>=<span class="string">"objectBoundingBox"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">path</span> <span class="attr">fill</span>=<span class="string">"#fff"</span> <span class="attr">d</span>=<span class="string">"M0.25,1H0c0,0,0-0.659,0-0.916c0.083-0.303,0.158,0.334,0.25,0C0.25,0.327,0.25,1,0.25,1z"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">text</span> <span class="attr">id</span>=<span class="string">"text"</span> <span class="attr">transform</span>=<span class="string">"matrix(1 0 0 1 -8.0684 116.7852)"</span> <span class="attr">font-size</span>=<span class="string">"100"</span>&gt;</span>PEOPLE.CN<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">mask</span> <span class="attr">id</span>=<span class="string">"text-mask"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">use</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">xlink:href</span>=<span class="string">"#text"</span> <span class="attr">opacity</span>=<span class="string">"1"</span> <span class="attr">fill</span>=<span class="string">"#ffffff"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">mask</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">defs</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">use</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">xlink:href</span>=<span class="string">"#text"</span> <span class="attr">fill</span>=<span class="string">"#222"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">rect</span> <span class="attr">class</span>=<span class="string">"water-fill"</span> <span class="attr">mask</span>=<span class="string">"url(#text-mask)"</span> <span class="attr">fill</span>=<span class="string">"url(#water)"</span> <span class="attr">x</span>=<span class="string">"-400"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">"1600"</span> <span class="attr">height</span>=<span class="string">"120"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="让背景动起来"><a href="#让背景动起来" class="headerlink" title="让背景动起来"></a>让背景动起来</h3><p>实现背景平移运动有很多方法，这里我们使用 GSAP(很好用的 js 动画框架，<a href="https://greensock.com/docs/#/HTML5/" target="_blank" rel="noopener">文档地址</a>)</p><p>效果</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/app/assets/images/2017/05/rectgif3.gif" alt title>                </div>                <div class="image-caption"></div>            </figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">'DOMContentLoaded'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> twm = TweenMax</span><br><span class="line">  <span class="keyword">var</span> water = <span class="built_in">document</span>.querySelector(<span class="string">'.water-fill'</span>)</span><br><span class="line">  twm.to(water, <span class="number">1</span>, &#123;</span><br><span class="line">    attr: &#123;</span><br><span class="line">      x: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    repeat: <span class="number">-1</span>,</span><br><span class="line">    ease: Linear.easeNone</span><br><span class="line">  &#125;)</span><br><span class="line">  twm.to(water, <span class="number">10</span>, &#123;</span><br><span class="line">    attr: &#123;</span><br><span class="line">      y: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    repeat: <span class="number">-1</span>,</span><br><span class="line">    ease: Linear.easeNone</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="定制"><a href="#定制" class="headerlink" title="定制"></a>定制</h3><p>次效果的文字颜色、大小、字体，动画的时长、循环次数，均可以修改。尤其文字，只需要修改<text>标签的内容即可。如下</text></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/app/assets/images/2017/05/rectgif6.gif" alt title>                </div>                <div class="image-caption"></div>            </figure><h3 id="案例完整代码"><a href="#案例完整代码" class="headerlink" title="案例完整代码"></a>案例完整代码</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"http://172.31.36.229/study/SVG/src/js/TweenMax.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"http://172.31.36.229/study/SVG/src/js/TimelineMax.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    body &#123;</span></span><br><span class="line"><span class="undefined">      padding-top: 300px;</span></span><br><span class="line"><span class="undefined">      background: #141414;</span></span><br><span class="line"><span class="undefined">      text-align: center;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">    .loading &#123;</span></span><br><span class="line"><span class="undefined">      margin-top: 20px;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">"loading"</span> <span class="attr">version</span>=<span class="string">"1.1"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span> <span class="attr">xmlns:xlink</span>=<span class="string">"http://www.w3.org/1999/xlink"</span> <span class="attr">x</span>=<span class="string">"0px"</span> <span class="attr">y</span>=<span class="string">"0px"</span></span></span><br><span class="line"><span class="tag">   <span class="attr">width</span>=<span class="string">"574.558px"</span> <span class="attr">height</span>=<span class="string">"120px"</span> <span class="attr">viewBox</span>=<span class="string">"0 0 574.558 120"</span> <span class="attr">enable-background</span>=<span class="string">"new 0 0 574.558 120"</span> <span class="attr">xml:space</span>=<span class="string">"preserve"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">defs</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">pattern</span> <span class="attr">id</span>=<span class="string">"water"</span> <span class="attr">width</span>=<span class="string">".25"</span> <span class="attr">height</span>=<span class="string">"1.1"</span> <span class="attr">patternContentUnits</span>=<span class="string">"objectBoundingBox"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">path</span> <span class="attr">fill</span>=<span class="string">"#fff"</span> <span class="attr">d</span>=<span class="string">"M0.25,1H0c0,0,0-0.659,0-0.916c0.083-0.303,0.158,0.334,0.25,0C0.25,0.327,0.25,1,0.25,1z"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">text</span> <span class="attr">id</span>=<span class="string">"text"</span> <span class="attr">transform</span>=<span class="string">"matrix(1 0 0 1 -8.0684 116.7852)"</span> <span class="attr">font-size</span>=<span class="string">"100"</span>&gt;</span>PEOPLE.CN<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">mask</span> <span class="attr">id</span>=<span class="string">"text-mask"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">use</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">xlink:href</span>=<span class="string">"#text"</span> <span class="attr">opacity</span>=<span class="string">"1"</span> <span class="attr">fill</span>=<span class="string">"#ffffff"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">mask</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">defs</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">use</span> <span class="attr">x</span>=<span class="string">"0"</span> <span class="attr">y</span>=<span class="string">"0"</span> <span class="attr">xlink:href</span>=<span class="string">"#text"</span> <span class="attr">fill</span>=<span class="string">"#222"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">rect</span> <span class="attr">class</span>=<span class="string">"water-fill"</span> <span class="attr">mask</span>=<span class="string">"url(#text-mask)"</span> <span class="attr">fill</span>=<span class="string">"url(#water)"</span> <span class="attr">x</span>=<span class="string">"-400"</span> <span class="attr">y</span>=<span class="string">"100"</span> <span class="attr">width</span>=<span class="string">"1600"</span> <span class="attr">height</span>=<span class="string">"120"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.addEventListener(<span class="string">'DOMContentLoaded'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> twm = TweenMax;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> water = <span class="built_in">document</span>.querySelector(<span class="string">".water-fill"</span>);</span></span><br><span class="line"><span class="undefined">      twm.to(water,1,&#123;</span></span><br><span class="line"><span class="undefined">        attr:&#123;</span></span><br><span class="line"><span class="undefined">            x:0</span></span><br><span class="line"><span class="undefined">          &#125;,</span></span><br><span class="line"><span class="undefined">          repeat:-1,</span></span><br><span class="line"><span class="undefined">          ease:Linear.easeNone</span></span><br><span class="line"><span class="undefined">        &#125;)</span></span><br><span class="line"><span class="undefined">        twm.to(water,10,&#123;</span></span><br><span class="line"><span class="undefined">        attr:&#123;</span></span><br><span class="line"><span class="undefined">            y:0</span></span><br><span class="line"><span class="undefined">          &#125;,</span></span><br><span class="line"><span class="undefined">          repeat:-1,</span></span><br><span class="line"><span class="undefined">          ease:Linear.easeNone</span></span><br><span class="line"><span class="undefined">        &#125;)</span></span><br><span class="line"><span class="undefined">    &#125;)</span></span><br><span class="line"><span class="undefined">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> demo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SVG </tag>
            
            <tag> GSAP </tag>
            
            <tag> 加载动画 </tag>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
